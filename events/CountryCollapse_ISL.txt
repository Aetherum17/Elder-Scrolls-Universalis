namespace = es_collapse

country_event = {
	id = es_collapse.24
	title = es_collapse.24.t
	desc = es_collapse.24.d
	picture = ES_PROVINCE_COLLAPSE_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
	    add_country_modifier = {
			name = "vassal_autonomy"
			duration = 9125
		}
	}
	
	option = {
		name = es_collapse.2.a
		ai_chance = { factor = 75 }
		hidden_effect = {
		
		if = {
		limit = {
		NOT = { capital_scope = { region = northern_islands_lr } }
		}
		every_core_province = {
			limit = {
				region = northern_islands_lr
			}
			remove_core = ROOT
		}
		}
		
		if = {
		limit = {
		colonial_northern_islands_1_la = {
		owned_by = ROOT
		}
		NOT = { exists = IA1 }
		NOT = { capital_scope = { area = colonial_northern_islands_1_la } }
		}
		every_owned_province = {
		limit = {
		area = colonial_northern_islands_1_la
		}
		add_core = IA1
		}
		create_vassal = IA1
        IA1 = { random_list = { 25 = { change_government = monarchy } 25 = { change_government = republic } 25 = { change_government = theocracy } 25 = { change_government = tribal } } }
        IA1 = { change_government_reform_progress = -99999 change_religion = ROOT }
		}
		
		if = {
		limit = {
		colonial_northern_islands_2_la = {
		owned_by = ROOT
		}
		NOT = { exists = IA2 }
		NOT = { capital_scope = { area = colonial_northern_islands_2_la } }
		}
		every_owned_province = {
		limit = {
		area = colonial_northern_islands_2_la
		}
		add_core = IA2
		}
		create_vassal = IA2
        IA2 = { random_list = { 25 = { change_government = monarchy } 25 = { change_government = republic } 25 = { change_government = theocracy } 25 = { change_government = tribal } } }
        IA2 = { change_government_reform_progress = -99999 change_religion = ROOT }
		}
		
		if = {
		limit = {
		colonial_northern_islands_3_la = {
		owned_by = ROOT
		}
		NOT = { exists = IA3 }
		NOT = { capital_scope = { area = colonial_northern_islands_3_la } }
		}
		every_owned_province = {
		limit = {
		area = colonial_northern_islands_3_la
		}
		add_core = IA3
		}
		create_vassal = IA3
        IA3 = { random_list = { 25 = { change_government = monarchy } 25 = { change_government = republic } 25 = { change_government = theocracy } 25 = { change_government = tribal } } }
        IA3 = { change_government_reform_progress = -99999 change_religion = ROOT }
		}
		
		if = {
		limit = {
		colonial_northern_islands_4_la = {
		owned_by = ROOT
		}
		NOT = { exists = IA4 }
		NOT = { capital_scope = { area = colonial_northern_islands_4_la } }
		}
		every_owned_province = {
		limit = {
		area = colonial_northern_islands_4_la
		}
		add_core = IA4
		}
		create_vassal = IA4
        IA4 = { random_list = { 25 = { change_government = monarchy } 25 = { change_government = republic } 25 = { change_government = theocracy } 25 = { change_government = tribal } } }
        IA4 = { change_government_reform_progress = -99999 change_religion = ROOT }
		}
		
		if = {
		limit = {
		colonial_northern_islands_5_la = {
		owned_by = ROOT
		}
		NOT = { exists = IA5 }
		NOT = { capital_scope = { area = colonial_northern_islands_5_la } }
		}
		every_owned_province = {
		limit = {
		area = colonial_northern_islands_5_la
		}
		add_core = IA5
		}
		create_vassal = IA5
        IA5 = { random_list = { 25 = { change_government = monarchy } 25 = { change_government = republic } 25 = { change_government = theocracy } 25 = { change_government = tribal } } }
        IA5 = { change_government_reform_progress = -99999 change_religion = ROOT }
		}
		
		if = {
		limit = {
		colonial_northern_islands_6_la = {
		owned_by = ROOT
		}
		NOT = { exists = IA6 }
		NOT = { capital_scope = { area = colonial_northern_islands_6_la } }
		}
		every_owned_province = {
		limit = {
		area = colonial_northern_islands_6_la
		}
		add_core = IA6
		}
		create_vassal = IA6
        IA6 = { random_list = { 25 = { change_government = monarchy } 25 = { change_government = republic } 25 = { change_government = theocracy } 25 = { change_government = tribal } } }
        IA6 = { change_government_reform_progress = -99999 change_religion = ROOT }
		}
		
		if = {
		limit = {
		upper_tsakara_8_la = {
		owned_by = ROOT
		}
		NOT = { exists = IA7 }
		NOT = { capital_scope = { area = upper_tsakara_8_la } }
		}
		every_owned_province = {
		limit = {
		area = upper_tsakara_8_la
		}
		add_core = IA7
		}
		create_vassal = IA7
        IA7 = { random_list = { 25 = { change_government = monarchy } 25 = { change_government = republic } 25 = { change_government = theocracy } 25 = { change_government = tribal } } }
        IA7 = { change_government_reform_progress = -99999 change_religion = ROOT }
		}
		
		if = {
		limit = {
		upper_tsakara_9_la = {
		owned_by = ROOT
		}
		NOT = { exists = IA8 }
		NOT = { capital_scope = { area = upper_tsakara_9_la } }
		}
		every_owned_province = {
		limit = {
		area = upper_tsakara_9_la
		}
		add_core = IA8
		}
		create_vassal = IA8
        IA8 = { random_list = { 25 = { change_government = monarchy } 25 = { change_government = republic } 25 = { change_government = theocracy } 25 = { change_government = tribal } } }
        IA8 = { change_government_reform_progress = -99999 change_religion = ROOT }
		}
		
		if = {
		limit = {
		upper_tsakara_10_la = {
		owned_by = ROOT
		}
		NOT = { exists = IA9 }
		NOT = { capital_scope = { area = upper_tsakara_10_la } }
		}
		every_owned_province = {
		limit = {
		area = upper_tsakara_10_la
		}
		add_core = IA9
		}
		create_vassal = IA9
        IA9 = { random_list = { 25 = { change_government = monarchy } 25 = { change_government = republic } 25 = { change_government = theocracy } 25 = { change_government = tribal } } }
        IA9 = { change_government_reform_progress = -99999 change_religion = ROOT }
		}
		
		if = {
		limit = {
		upper_tsakara_11_la = {
		owned_by = ROOT
		}
		NOT = { exists = IB0 }
		NOT = { capital_scope = { area = upper_tsakara_11_la } }
		}
		every_owned_province = {
		limit = {
		area = upper_tsakara_11_la
		}
		add_core = IB0
		}
		create_vassal = IB0
        IB0 = { random_list = { 25 = { change_government = monarchy } 25 = { change_government = republic } 25 = { change_government = theocracy } 25 = { change_government = tribal } } }
        IB0 = { change_government_reform_progress = -99999 change_religion = ROOT }
		}
		
		if = {
		limit = {
		upper_tsakara_12_la = {
		owned_by = ROOT
		}
		NOT = { exists = IB1 }
		NOT = { capital_scope = { area = upper_tsakara_12_la } }
		}
		every_owned_province = {
		limit = {
		area = upper_tsakara_12_la
		}
		add_core = IB1
		}
		create_vassal = IB1
        IB1 = { random_list = { 25 = { change_government = monarchy } 25 = { change_government = republic } 25 = { change_government = theocracy } 25 = { change_government = tribal } } }
        IB1 = { change_government_reform_progress = -99999 change_religion = ROOT }
		}
		
		if = {
		limit = {
		upper_tsakara_13_la = {
		owned_by = ROOT
		}
		NOT = { exists = IB2 }
		NOT = { capital_scope = { area = upper_tsakara_13_la } }
		}
		every_owned_province = {
		limit = {
		area = upper_tsakara_13_la
		}
		add_core = IB2
		}
		create_vassal = IB2
        IB2 = { random_list = { 25 = { change_government = monarchy } 25 = { change_government = republic } 25 = { change_government = theocracy } 25 = { change_government = tribal } } }
        IB2 = { change_government_reform_progress = -99999 change_religion = ROOT }
		}
		
		if = {
		limit = {
		upper_tsakara_14_la = {
		owned_by = ROOT
		}
		NOT = { exists = IB3 }
		NOT = { capital_scope = { area = upper_tsakara_14_la } }
		}
		every_owned_province = {
		limit = {
		area = upper_tsakara_14_la
		}
		add_core = IB3
		}
		create_vassal = IB3
        IB3 = { random_list = { 25 = { change_government = monarchy } 25 = { change_government = republic } 25 = { change_government = theocracy } 25 = { change_government = tribal } } }
        IB3 = { change_government_reform_progress = -99999 change_religion = ROOT }
		}
		
		if = {
		limit = {
		atmora_8_la = {
		owned_by = ROOT
		}
		NOT = { exists = IB4 }
		NOT = { capital_scope = { area = atmora_8_la } }
		}
		every_owned_province = {
		limit = {
		area = atmora_8_la
		}
		add_core = IB4
		}
		create_vassal = IB4
        IB4 = { random_list = { 25 = { change_government = monarchy } 25 = { change_government = republic } 25 = { change_government = theocracy } 25 = { change_government = tribal } } }
        IB4 = { change_government_reform_progress = -99999 change_religion = ROOT }
		}
		
		if = {
		limit = {
		atmora_9_la = {
		owned_by = ROOT
		}
		NOT = { exists = IB5 }
		NOT = { capital_scope = { area = atmora_9_la } }
		}
		every_owned_province = {
		limit = {
		area = atmora_9_la
		}
		add_core = IB5
		}
		create_vassal = IB5
        IB5 = { random_list = { 25 = { change_government = monarchy } 25 = { change_government = republic } 25 = { change_government = theocracy } 25 = { change_government = tribal } } }
        IB5 = { change_government_reform_progress = -99999 change_religion = ROOT }
		}
		
	    }
	}
	
	option = {
		name = es_collapse.2.b
		ai_chance = { factor = 15 }
		
		every_owned_province = {
			limit = {
				region = northern_islands_lr
				NOT = { any_province = { area = PREV is_capital_of = ROOT } }
			}
			remove_core = ROOT
		}
		
	}
	
	option = {
		name = es_collapse.2.c
		ai_chance = { factor = 10 }
		
		trigger = {
		NOT = { capital_scope = { region = northern_islands_lr } }
		NOT = { exists = ISL }
		}
		
		every_core_province = {
			limit = {
				region = northern_islands_lr
			}
			remove_core = ROOT
		}
		
		every_owned_province = {
		limit = {
		region = northern_islands_lr
		}
		add_core = ISL
		}
		
		release = ISL
		
		if = {
		limit = {
		government = monarchy
		}
		create_union = ISL
	    }
		else = {
		create_alliance = ISL
		ISL = { add_opinion = { who = ROOT modifier = es_friendly_nation } }
		add_opinion = { who = ISL modifier = es_friendly_nation }
		}
	}
}