namespace = event_new_diplomatic_actions
# Failed Murder
country_event = {
	id = event_new_diplomatic_actions.0
	title = "event_new_diplomatic_actions.0.t"
	desc = "event_new_diplomatic_actions.0.d"
	picture = FAILED_MURDER_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "event_new_diplomatic_actions.0.a"
	}
}
# Killed Ruler
country_event = {
	id = event_new_diplomatic_actions.1
	title = "event_new_diplomatic_actions.1.t"
	desc = "event_new_diplomatic_actions.1.d"
	picture = ES_MURDER_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "event_new_diplomatic_actions.0.a"
	}
}
# Killed Heir
country_event = {
	id = event_new_diplomatic_actions.2
	title = "event_new_diplomatic_actions.2.t"
	desc = "event_new_diplomatic_actions.2.d"
	picture = ES_MURDER_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "event_new_diplomatic_actions.0.a"
	}
}
# Successful Murder
country_event = {
	id = event_new_diplomatic_actions.3
	title = "event_new_diplomatic_actions.3.t"
	desc = "event_new_diplomatic_actions.3.d"
	picture = ES_MURDER_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "event_new_diplomatic_actions.3.a"
	}
}
# Successful Infiltration
country_event = {
	id = event_new_diplomatic_actions.4
	title = "event_new_diplomatic_actions.4.t"
	desc = "event_new_diplomatic_actions.4.d"
	picture = ES_THIEFE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "event_new_diplomatic_actions.3.a"
	}
}
# Failed Infiltration
country_event = {
	id = event_new_diplomatic_actions.5
	title = "event_new_diplomatic_actions.5.t"
	desc = "event_new_diplomatic_actions.5.d"
	picture = ES_THIEFE_1_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "event_new_diplomatic_actions.0.a"
	}
}
# Infiltrated by Thieves Guild - Loose Cash
country_event = {
	id = event_new_diplomatic_actions.6
	title = "event_new_diplomatic_actions.6.t"
	desc = "event_new_diplomatic_actions.6.d"
	picture = EMPTY_TREASURY_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "event_new_diplomatic_actions.0.a"
	}
}
# Infiltrated by Thieves Guild - Scammed
country_event = {
	id = event_new_diplomatic_actions.7
	title = "event_new_diplomatic_actions.7.t"
	desc = "event_new_diplomatic_actions.7.d"
	picture = ES_GANG_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "event_new_diplomatic_actions.0.a"
	}
}
# Infiltrated by Thieves Guild - Intimidated
country_event = {
	id = event_new_diplomatic_actions.8
	title = "event_new_diplomatic_actions.8.t"
	desc = "event_new_diplomatic_actions.8.d"
	picture = ES_THIEFE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "event_new_diplomatic_actions.0.a"
	}
}
# Successful Kidnap
country_event = {
	id = event_new_diplomatic_actions.9
	title = "event_new_diplomatic_actions.9.t"
	desc = "event_new_diplomatic_actions.9.d"
	picture = ES_THIEFE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "event_new_diplomatic_actions.3.a"
	}
}
# Failed Kidnap
country_event = {
	id = event_new_diplomatic_actions.10
	title = "event_new_diplomatic_actions.10.t"
	desc = "event_new_diplomatic_actions.10.d"
	picture = ES_THIEFE_1_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "event_new_diplomatic_actions.0.a"
	}
}
######################################################################################################

### Heist Nation Chance
country_event = {
	id = event_new_diplomatic_actions.100
	title = "event_new_diplomatic_actions.3.t"
	desc = "event_new_diplomatic_actions.3.d"
	picture = ES_MURDER_eventPicture
	
	hidden = yes
	
	trigger = { has_country_flag = heist_nation_flag }
	
	immediate = {
		random_list = {
			50 = {
			add_treasury_var = { var = IncomeToSteal }
			multiply_variable = { which = IncomeToSteal value = -1 }
			event_target:es_nation_to_heist = { add_treasury_var = { var = IncomeToSteal country_event = { id = event_new_diplomatic_actions.6 } } }
			country_event = { id = event_new_diplomatic_actions.4 }
			}
			50 = { add_prestige = -5 country_event = { id = event_new_diplomatic_actions.5 } }
		}
		clr_country_flag = heist_nation_flag
	}
	
	option = {
		name = "event_new_diplomatic_actions.0.a"
	}
}

# Scam Nation Chance
country_event = {
	id = event_new_diplomatic_actions.101
	title = "event_new_diplomatic_actions.3.t"
	desc = "event_new_diplomatic_actions.3.d"
	picture = ES_MURDER_eventPicture
	
	hidden = yes
	
	trigger = { has_country_flag = scam_nation_flag }
	
	immediate = {
		random_list = {
		25 = {
		event_target:es_nation_to_scam = { add_country_modifier = { name = scammed_by_enemy_thieves_guild duration = 1825 } country_event = { id = event_new_diplomatic_actions.7 } }
		country_event = { id = event_new_diplomatic_actions.4 }
		}
		25 = {
		event_target:es_nation_to_scam = { add_country_modifier = { name = scammed_by_enemy_thieves_guild duration = 3650 } country_event = { id = event_new_diplomatic_actions.7 } }
		country_event = { id = event_new_diplomatic_actions.4 }
		}
		50 = { add_prestige = -5 country_event = { id = event_new_diplomatic_actions.5 } }
		}
		clr_country_flag = scam_nation_flag
	}
	
	option = {
		name = "event_new_diplomatic_actions.0.a"
	}
}

# Intimidate Nation Chance
country_event = {
	id = event_new_diplomatic_actions.102
	title = "event_new_diplomatic_actions.3.t"
	desc = "event_new_diplomatic_actions.3.d"
	picture = ES_MURDER_eventPicture
	
	hidden = yes
	
	trigger = { has_country_flag = intimidate_nation_flag }
	
	immediate = {
		random_list = {
		25 = {
		event_target:es_nation_to_intimidate = { add_country_modifier = { name = intimidated_by_enemy_thieves_guild duration = 1825 } country_event = { id = event_new_diplomatic_actions.8 } } 
		country_event = { id = event_new_diplomatic_actions.4 }
		}
		25 = {
		event_target:es_nation_to_intimidate = { add_country_modifier = { name = intimidated_by_enemy_thieves_guild duration = 3650 } country_event = { id = event_new_diplomatic_actions.8 } } 
		country_event = { id = event_new_diplomatic_actions.4 }
		}
		50 = { add_prestige = -5 country_event = { id = event_new_diplomatic_actions.5 } }
		}
		clr_country_flag = intimidate_nation_flag
	}
	
	option = {
		name = "event_new_diplomatic_actions.0.a"
	}
}

###################################################################################################

# Kill Ruler Chance
country_event = {
	id = event_new_diplomatic_actions.103
	title = "event_new_diplomatic_actions.3.t"
	desc = "event_new_diplomatic_actions.3.d"
	picture = ES_MURDER_eventPicture
	
	hidden = yes
	
	trigger = { has_country_flag = assasinate_ruler_flag }
	
	immediate = {
		random_list = {
		35 = {
		event_target:country_to_murder_ruler = { kill_ruler = yes country_event = { id = event_new_diplomatic_actions.1 } }
		country_event = { id = event_new_diplomatic_actions.3 }
		}
		65 = { add_prestige = -10 country_event = { id = event_new_diplomatic_actions.0 } }
		}
		clr_country_flag = assasinate_ruler_flag
	}
	
	option = {
		name = "event_new_diplomatic_actions.0.a"
	}
}

# Kill Heir Chance
country_event = {
	id = event_new_diplomatic_actions.104
	title = "event_new_diplomatic_actions.3.t"
	desc = "event_new_diplomatic_actions.3.d"
	picture = ES_MURDER_eventPicture
	
	hidden = yes
	
	trigger = { has_country_flag = assasinate_heir_flag }
	
	immediate = {
		random_list = {
		35 = { event_target:country_to_murder_heir = { kill_heir = yes country_event = { id = event_new_diplomatic_actions.2 } }
		country_event = { id = event_new_diplomatic_actions.3 }
		}
		65 = { add_prestige = -10 country_event = { id = event_new_diplomatic_actions.0 } }
		}
		clr_country_flag = assasinate_heir_flag
	}
	
	option = {
		name = "event_new_diplomatic_actions.0.a"
	}
}

# Kidnap advisor Chance
country_event = {
	id = event_new_diplomatic_actions.104
	title = "event_new_diplomatic_actions.3.t"
	desc = "event_new_diplomatic_actions.3.d"
	picture = ES_MURDER_eventPicture
	
	hidden = yes
	
	trigger = { has_country_flag = kidnap_advisor_flag }
	
	immediate = {
		random_list = {
		25 = {
			define_random_advisor = { skill = 1 }
			country_event = { id = event_new_diplomatic_actions.9 }
		}
		25 = {
			define_random_advisor = { skill = 2 }
			country_event = { id = event_new_diplomatic_actions.9 }
		}
		25 = {
			define_random_advisor = { skill = 3 }
			country_event = { id = event_new_diplomatic_actions.9 }
		}
		25 = {
			add_prestige = -5
			country_event = { id = event_new_diplomatic_actions.10 }
		}
		}
		clr_country_flag = kidnap_advisor_flag
	}
	
	option = {
		name = "event_new_diplomatic_actions.0.a"
	}
}

#########################################################################################################################################################################################################################################################

country_event = {
	id = event_new_diplomatic_actions.200
	title = "event_new_diplomatic_actions.200.t"
	desc = "event_new_diplomatic_actions.200.d"
	picture = LEGION_eventPicture
	
	trigger = { 
		has_reform = guardian
		any_country = { has_country_flag = war_with_invader_flag capital_scope = { superregion = ROOT } }
		NOT = { has_country_modifier = guarfian_at_war }
	}
	
	is_triggered_only = yes
	
	immediate = {
		random_country = {
			limit = { has_country_flag = war_with_invader_flag capital_scope = { superregion = ROOT } }
			save_event_target_as = victim_in_war
		}
		event_target:victim_in_war = { clr_country_flag = war_with_invader_flag }
	}
	
	option = {
		name = "event_new_diplomatic_actions.200.a"
		join_all_defensive_wars_of = event_target:victim_in_war
		add_country_modifier = { name = guarfian_at_war duration = 3650 }
	}
	
	option = {
		name = "event_new_diplomatic_actions.200.b"
		if = { limit = { ai = no } add_prestige = -25 }
	}
	
}

#########################################################################################################################################################################################################################################################

country_event = {
	id = event_new_diplomatic_actions.300
	title = "event_new_diplomatic_actions.300.t"
	desc = "event_new_diplomatic_actions.300.d"
	picture = BONFIRE_RITUAL_eventPicture
	
	trigger = {
		has_reform = chosen_by_the_gods
		NOT = { has_country_modifier = es_gods_approve }
		NOT = { has_country_modifier = es_gods_disapprove }
	}
	
	mean_time_to_happen = {
		days = 1825
	}
	
	option = {
		name = "event_new_diplomatic_actions.300.a"
		custom_tooltip = the_modifier_will_be_active_until_death_of_the_ruler
		random_list = {
			50 = { add_country_modifier = { name = "es_gods_approve" duration = -1 } }
			50 = { 
				add_country_modifier = { name = "es_gods_disapprove" duration = -1 } 
				every_neighbor_country = {  limit = { NOT = { religion = ROOT } } add_casus_belli = { target = ROOT type = cb_crusade months = 120 }  } 
			}
		}
	}
	
}

#○ Taking any province in a war with more then 10 development will trigger a common but important events; - has_country_flag = es_slavery_flag - has_reform = Justified Atrocity
#■ Reduces province development by 1 point each, causes 40 devastation,
#and gives a large 10 year malus called Depopulated
#● +30% Development Cost
#● +0.40 Monthly Autonomy
#● -33% Local Goods Produced
#■ Option 1: Takes slaves to a random province and deploy them for 100
#years giving a large bonus
#● -15% Development Cost
#● +10% Local Goods Produced
#● +15% Production Efficiency
#● +3 Unrest
#■ Option 2: Sell them for 100 gold
#■ Option 3: Conscript captives for 1000 manpower
#○ +75% Production of Slaves

#○ Conquering a new provinces with a level 2 general or higher in employment - has_country_flag = es_triumphs_flag
#enables the Triumph event
#○ Triumph Events have 3 main options
#■ Deny Triumph
#● -10 Prestige
#● -5 Republican Tradition
#● Gain Triumph Denied modifier for 20 years
#○ +100% Leader Cost
#○ -1 Leader
#○ -20% Aggressive Expansion
#○ -2 Unrest
#■ Grant Triumph
#● +10 Republican Tradition
#● +5 Years worth of Income
#● +20 Prestige
#● Gain Triumph modifier for 20 years
#○ +10% Army Morale
#○ -2 Unrest
#○ +50% Aggressive Expansion
#■ Fund Triumph
#● -10 years worth of income
#● +20 Republican Tradition
#● +40 Prestige
#● Gain Grand Triumph modifier for 20 years
#○ +15% Army Morale
#○ -3 Unrest
#○ +100% Aggressive Expansion
#○ Triumphs need to be held every 15 years, or the nation will get the modifier
#Triumphless for till a new Triumph is held
#■ -2 Yearly Republican Tradition

#● At the start of each presidency, an event fires which gives the choice of a Co-Consul - has_country_flag = es_consul_flag
#which provides a government modifier till the end of the presidential term.
#○ Moderate
#■ +0.1 Yearly Republican Tradition
#■ +2 Unrest
#○ Reformer
#■ +30% Government Progress Gain
#■ +10% Institution Spread
#■ +100% Stability Cost
#○ Populist
#■ -4 Unrest
#■ +10% Army Morale
#■ -1 Yearly Republican Tradition
#○ Conservative
#■ +10% National Tax Modifier
#■ -0.5 Interest Annum
#■ +100% Idea Cost
#○ Ambitious Idiot
#■ -10% Army Maintenance Modifier
#■ -2.5% Power Costs
#■ +8 Unrest

#○ New Pool of Events - es_slavery_flag
#■ Population Enslaved
#■ Slave Population Depletes
#■ Slave Revolution

#○ Magical Society has a new pool of events - has_country_flag = es_magic_nation_flag
#■ Rogue Mages Causes Trouble
#■ Anti-Mage Revolt
#■ Magic Monopoly Booms

#● Gain New Event Pool - has_country_flag = es_assassins_guild_flag
#○ Dark Brotherhood Hunted
#○ Dark Brotherhood Kills Ruler
#○ Dark Brotherhood Kills Heir

#● Gain access to new event list - has_country_flag = es_cut_throat_politics_flag
#○ Ruler Humiliated
#○ Ruler Murdered by Family
#○ Ambitious Rival Raises Army

#○ Gain Access to Isolationism Event Pool - has_country_flag = es_isolationist_flag
#■ Outside Merchants Run Out
#■ Isolation Breeds Ignorance
#■ Isolation Breeds Xenophobia

#● Gives access to the Statism event pool - has_country_flag = es_bureaucratic_tyranny_flag
#○ Government Agency Drags Feet
#○ Overspending
#○ Bureaucratic Nightmare

#● Gain Access to Open Succession Events - has_country_flag = es_open_flag
#○ Heirs Plots Against Each Other
#○ Heir Assassinated
#○ Rival Brother Raises Army

#○ Gain Access to Divine Blood Event Pool - has_country_flag = es_divine_right_flag
#■ God King Questioned
#■ Clergy vs Monarchy
#■ Theological Faux Pas

#● Adds Private Lawyer Event Pool - has_country_flag = es_private_lawyers_flag
#○ Monopoly Sues the State
#○ Citizens Demand Change
#○ National Trial Humiliates Nation
#● -25% Institution Spread